{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":75,"index":109}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n    error: null,\n    login: async (email, password) => {\n      try {\n        set({\n          isLoading: true,\n          error: null\n        });\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        await (0, _servicesApi.setToken)(response.data.access_token);\n        set({\n          user: response.data.user,\n          isAuthenticated: true,\n          isLoading: false\n        });\n        return true;\n      } catch (error) {\n        set({\n          error: error.response?.data?.detail || 'Erreur de connexion',\n          isLoading: false\n        });\n        return false;\n      }\n    },\n    register: async data => {\n      try {\n        set({\n          isLoading: true,\n          error: null\n        });\n        const response = await _servicesApi.authAPI.register(data);\n        await (0, _servicesApi.setToken)(response.data.access_token);\n        set({\n          user: response.data.user,\n          isAuthenticated: true,\n          isLoading: false\n        });\n        return true;\n      } catch (error) {\n        set({\n          error: error.response?.data?.detail || \"Erreur d'inscription\",\n          isLoading: false\n        });\n        return false;\n      }\n    },\n    logout: async () => {\n      await (0, _servicesApi.removeToken)();\n      set({\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      });\n    },\n    checkAuth: async () => {\n      try {\n        const token = await (0, _servicesApi.getToken)();\n        if (!token) {\n          set({\n            isLoading: false,\n            isAuthenticated: false\n          });\n          return;\n        }\n        const response = await _servicesApi.authAPI.getMe();\n        set({\n          user: response.data,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        await (0, _servicesApi.removeToken)();\n        set({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    },\n    verifyIdentity: async (idPhoto, selfiePhoto) => {\n      try {\n        set({\n          isLoading: true,\n          error: null\n        });\n        await _servicesApi.authAPI.verifyIdentity({\n          id_photo: idPhoto,\n          selfie_photo: selfiePhoto\n        });\n        set({\n          isLoading: false\n        });\n        return true;\n      } catch (error) {\n        set({\n          error: error.response?.data?.detail || 'Erreur lors de la vÃ©rification',\n          isLoading: false\n        });\n        return false;\n      }\n    },\n    initAdmin: async data => {\n      try {\n        set({\n          isLoading: true,\n          error: null\n        });\n        const response = await _servicesApi.authAPI.initAdmin(data);\n        await (0, _servicesApi.setToken)(response.data.access_token);\n        set({\n          user: response.data.user,\n          isAuthenticated: true,\n          isLoading: false\n        });\n        return true;\n      } catch (error) {\n        set({\n          error: error.response?.data?.detail || 'Erreur',\n          isLoading: false\n        });\n        return false;\n      }\n    },\n    clearError: () => set({\n      error: null\n    })\n  }));\n});","lineCount":148,"map":[[7,2,31,0,"Object"],[7,8,31,0],[7,9,31,0,"defineProperty"],[7,23,31,0],[7,24,31,0,"exports"],[7,31,31,0],[8,4,31,0,"enumerable"],[8,14,31,0],[9,4,31,0,"get"],[9,7,31,0],[9,18,31,0,"get"],[9,19,31,0],[10,6,31,0],[10,13,31,0,"useAuthStore"],[10,25,31,0],[11,4,31,0],[12,2,31,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_servicesApi"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,31,7],[15,8,31,13,"useAuthStore"],[15,20,31,25],[15,23,31,28],[15,27,31,28,"create"],[15,35,31,34],[15,36,31,34,"create"],[15,42,31,34],[15,44,31,46],[15,45,31,47,"set"],[15,48,31,50],[15,50,31,52,"get"],[15,53,31,55],[15,59,31,61],[16,4,32,2,"user"],[16,8,32,6],[16,10,32,8],[16,14,32,12],[17,4,33,2,"isLoading"],[17,13,33,11],[17,15,33,13],[17,19,33,17],[18,4,34,2,"isAuthenticated"],[18,19,34,17],[18,21,34,19],[18,26,34,24],[19,4,35,2,"error"],[19,9,35,7],[19,11,35,9],[19,15,35,13],[20,4,37,2,"login"],[20,9,37,7],[20,11,37,9],[20,17,37,9,"login"],[20,18,37,16,"email"],[20,23,37,21],[20,25,37,23,"password"],[20,33,37,31],[20,38,37,36],[21,6,38,4],[21,10,38,8],[22,8,39,6,"set"],[22,11,39,9],[22,12,39,10],[23,10,39,12,"isLoading"],[23,19,39,21],[23,21,39,23],[23,25,39,27],[24,10,39,29,"error"],[24,15,39,34],[24,17,39,36],[25,8,39,41],[25,9,39,42],[25,10,39,43],[26,8,40,6],[26,14,40,12,"response"],[26,22,40,20],[26,25,40,23],[26,31,40,29,"authAPI"],[26,43,40,36],[26,44,40,36,"authAPI"],[26,51,40,36],[26,52,40,37,"login"],[26,57,40,42],[26,58,40,43],[27,10,40,45,"email"],[27,15,40,50],[28,10,40,52,"password"],[29,8,40,61],[29,9,40,62],[29,10,40,63],[30,8,41,6],[30,14,41,12],[30,18,41,12,"setToken"],[30,30,41,20],[30,31,41,20,"setToken"],[30,39,41,20],[30,41,41,21,"response"],[30,49,41,29],[30,50,41,30,"data"],[30,54,41,34],[30,55,41,35,"access_token"],[30,67,41,47],[30,68,41,48],[31,8,42,6,"set"],[31,11,42,9],[31,12,42,10],[32,10,43,8,"user"],[32,14,43,12],[32,16,43,14,"response"],[32,24,43,22],[32,25,43,23,"data"],[32,29,43,27],[32,30,43,28,"user"],[32,34,43,32],[33,10,44,8,"isAuthenticated"],[33,25,44,23],[33,27,44,25],[33,31,44,29],[34,10,45,8,"isLoading"],[34,19,45,17],[34,21,45,19],[35,8,46,6],[35,9,46,7],[35,10,46,8],[36,8,47,6],[36,15,47,13],[36,19,47,17],[37,6,48,4],[37,7,48,5],[37,8,48,6],[37,15,48,13,"error"],[37,20,48,23],[37,22,48,25],[38,8,49,6,"set"],[38,11,49,9],[38,12,49,10],[39,10,50,8,"error"],[39,15,50,13],[39,17,50,15,"error"],[39,22,50,20],[39,23,50,21,"response"],[39,31,50,29],[39,33,50,31,"data"],[39,37,50,35],[39,39,50,37,"detail"],[39,45,50,43],[39,49,50,47],[39,70,50,68],[40,10,51,8,"isLoading"],[40,19,51,17],[40,21,51,19],[41,8,52,6],[41,9,52,7],[41,10,52,8],[42,8,53,6],[42,15,53,13],[42,20,53,18],[43,6,54,4],[44,4,55,2],[44,5,55,3],[45,4,57,2,"register"],[45,12,57,10],[45,14,57,12],[45,20,57,19,"data"],[45,24,57,23],[45,28,57,28],[46,6,58,4],[46,10,58,8],[47,8,59,6,"set"],[47,11,59,9],[47,12,59,10],[48,10,59,12,"isLoading"],[48,19,59,21],[48,21,59,23],[48,25,59,27],[49,10,59,29,"error"],[49,15,59,34],[49,17,59,36],[50,8,59,41],[50,9,59,42],[50,10,59,43],[51,8,60,6],[51,14,60,12,"response"],[51,22,60,20],[51,25,60,23],[51,31,60,29,"authAPI"],[51,43,60,36],[51,44,60,36,"authAPI"],[51,51,60,36],[51,52,60,37,"register"],[51,60,60,45],[51,61,60,46,"data"],[51,65,60,50],[51,66,60,51],[52,8,61,6],[52,14,61,12],[52,18,61,12,"setToken"],[52,30,61,20],[52,31,61,20,"setToken"],[52,39,61,20],[52,41,61,21,"response"],[52,49,61,29],[52,50,61,30,"data"],[52,54,61,34],[52,55,61,35,"access_token"],[52,67,61,47],[52,68,61,48],[53,8,62,6,"set"],[53,11,62,9],[53,12,62,10],[54,10,63,8,"user"],[54,14,63,12],[54,16,63,14,"response"],[54,24,63,22],[54,25,63,23,"data"],[54,29,63,27],[54,30,63,28,"user"],[54,34,63,32],[55,10,64,8,"isAuthenticated"],[55,25,64,23],[55,27,64,25],[55,31,64,29],[56,10,65,8,"isLoading"],[56,19,65,17],[56,21,65,19],[57,8,66,6],[57,9,66,7],[57,10,66,8],[58,8,67,6],[58,15,67,13],[58,19,67,17],[59,6,68,4],[59,7,68,5],[59,8,68,6],[59,15,68,13,"error"],[59,20,68,23],[59,22,68,25],[60,8,69,6,"set"],[60,11,69,9],[60,12,69,10],[61,10,70,8,"error"],[61,15,70,13],[61,17,70,15,"error"],[61,22,70,20],[61,23,70,21,"response"],[61,31,70,29],[61,33,70,31,"data"],[61,37,70,35],[61,39,70,37,"detail"],[61,45,70,43],[61,49,70,47],[61,71,70,69],[62,10,71,8,"isLoading"],[62,19,71,17],[62,21,71,19],[63,8,72,6],[63,9,72,7],[63,10,72,8],[64,8,73,6],[64,15,73,13],[64,20,73,18],[65,6,74,4],[66,4,75,2],[66,5,75,3],[67,4,77,2,"logout"],[67,10,77,8],[67,12,77,10],[67,18,77,10,"logout"],[67,19,77,10],[67,24,77,22],[68,6,78,4],[68,12,78,10],[68,16,78,10,"removeToken"],[68,28,78,21],[68,29,78,21,"removeToken"],[68,40,78,21],[68,42,78,22],[68,43,78,23],[69,6,79,4,"set"],[69,9,79,7],[69,10,79,8],[70,8,80,6,"user"],[70,12,80,10],[70,14,80,12],[70,18,80,16],[71,8,81,6,"isAuthenticated"],[71,23,81,21],[71,25,81,23],[71,30,81,28],[72,8,82,6,"isLoading"],[72,17,82,15],[72,19,82,17],[73,6,83,4],[73,7,83,5],[73,8,83,6],[74,4,84,2],[74,5,84,3],[75,4,86,2,"checkAuth"],[75,13,86,11],[75,15,86,13],[75,21,86,13,"checkAuth"],[75,22,86,13],[75,27,86,25],[76,6,87,4],[76,10,87,8],[77,8,88,6],[77,14,88,12,"token"],[77,19,88,17],[77,22,88,20],[77,28,88,26],[77,32,88,26,"getToken"],[77,44,88,34],[77,45,88,34,"getToken"],[77,53,88,34],[77,55,88,35],[77,56,88,36],[78,8,89,6],[78,12,89,10],[78,13,89,11,"token"],[78,18,89,16],[78,20,89,18],[79,10,90,8,"set"],[79,13,90,11],[79,14,90,12],[80,12,90,14,"isLoading"],[80,21,90,23],[80,23,90,25],[80,28,90,30],[81,12,90,32,"isAuthenticated"],[81,27,90,47],[81,29,90,49],[82,10,90,55],[82,11,90,56],[82,12,90,57],[83,10,91,8],[84,8,92,6],[85,8,93,6],[85,14,93,12,"response"],[85,22,93,20],[85,25,93,23],[85,31,93,29,"authAPI"],[85,43,93,36],[85,44,93,36,"authAPI"],[85,51,93,36],[85,52,93,37,"getMe"],[85,57,93,42],[85,58,93,43],[85,59,93,44],[86,8,94,6,"set"],[86,11,94,9],[86,12,94,10],[87,10,95,8,"user"],[87,14,95,12],[87,16,95,14,"response"],[87,24,95,22],[87,25,95,23,"data"],[87,29,95,27],[88,10,96,8,"isAuthenticated"],[88,25,96,23],[88,27,96,25],[88,31,96,29],[89,10,97,8,"isLoading"],[89,19,97,17],[89,21,97,19],[90,8,98,6],[90,9,98,7],[90,10,98,8],[91,6,99,4],[91,7,99,5],[91,8,99,6],[91,15,99,13,"error"],[91,20,99,18],[91,22,99,20],[92,8,100,6],[92,14,100,12],[92,18,100,12,"removeToken"],[92,30,100,23],[92,31,100,23,"removeToken"],[92,42,100,23],[92,44,100,24],[92,45,100,25],[93,8,101,6,"set"],[93,11,101,9],[93,12,101,10],[94,10,102,8,"user"],[94,14,102,12],[94,16,102,14],[94,20,102,18],[95,10,103,8,"isAuthenticated"],[95,25,103,23],[95,27,103,25],[95,32,103,30],[96,10,104,8,"isLoading"],[96,19,104,17],[96,21,104,19],[97,8,105,6],[97,9,105,7],[97,10,105,8],[98,6,106,4],[99,4,107,2],[99,5,107,3],[100,4,109,2,"verifyIdentity"],[100,18,109,16],[100,20,109,18],[100,26,109,18,"verifyIdentity"],[100,27,109,25,"idPhoto"],[100,34,109,32],[100,36,109,34,"selfiePhoto"],[100,47,109,45],[100,52,109,50],[101,6,110,4],[101,10,110,8],[102,8,111,6,"set"],[102,11,111,9],[102,12,111,10],[103,10,111,12,"isLoading"],[103,19,111,21],[103,21,111,23],[103,25,111,27],[104,10,111,29,"error"],[104,15,111,34],[104,17,111,36],[105,8,111,41],[105,9,111,42],[105,10,111,43],[106,8,112,6],[106,14,112,12,"authAPI"],[106,26,112,19],[106,27,112,19,"authAPI"],[106,34,112,19],[106,35,112,20,"verifyIdentity"],[106,49,112,34],[106,50,112,35],[107,10,112,37,"id_photo"],[107,18,112,45],[107,20,112,47,"idPhoto"],[107,27,112,54],[108,10,112,56,"selfie_photo"],[108,22,112,68],[108,24,112,70,"selfiePhoto"],[109,8,112,82],[109,9,112,83],[109,10,112,84],[110,8,113,6,"set"],[110,11,113,9],[110,12,113,10],[111,10,113,12,"isLoading"],[111,19,113,21],[111,21,113,23],[112,8,113,29],[112,9,113,30],[112,10,113,31],[113,8,114,6],[113,15,114,13],[113,19,114,17],[114,6,115,4],[114,7,115,5],[114,8,115,6],[114,15,115,13,"error"],[114,20,115,23],[114,22,115,25],[115,8,116,6,"set"],[115,11,116,9],[115,12,116,10],[116,10,117,8,"error"],[116,15,117,13],[116,17,117,15,"error"],[116,22,117,20],[116,23,117,21,"response"],[116,31,117,29],[116,33,117,31,"data"],[116,37,117,35],[116,39,117,37,"detail"],[116,45,117,43],[116,49,117,47],[116,81,117,79],[117,10,118,8,"isLoading"],[117,19,118,17],[117,21,118,19],[118,8,119,6],[118,9,119,7],[118,10,119,8],[119,8,120,6],[119,15,120,13],[119,20,120,18],[120,6,121,4],[121,4,122,2],[121,5,122,3],[122,4,124,2,"initAdmin"],[122,13,124,11],[122,15,124,13],[122,21,124,20,"data"],[122,25,124,24],[122,29,124,29],[123,6,125,4],[123,10,125,8],[124,8,126,6,"set"],[124,11,126,9],[124,12,126,10],[125,10,126,12,"isLoading"],[125,19,126,21],[125,21,126,23],[125,25,126,27],[126,10,126,29,"error"],[126,15,126,34],[126,17,126,36],[127,8,126,41],[127,9,126,42],[127,10,126,43],[128,8,127,6],[128,14,127,12,"response"],[128,22,127,20],[128,25,127,23],[128,31,127,29,"authAPI"],[128,43,127,36],[128,44,127,36,"authAPI"],[128,51,127,36],[128,52,127,37,"initAdmin"],[128,61,127,46],[128,62,127,47,"data"],[128,66,127,51],[128,67,127,52],[129,8,128,6],[129,14,128,12],[129,18,128,12,"setToken"],[129,30,128,20],[129,31,128,20,"setToken"],[129,39,128,20],[129,41,128,21,"response"],[129,49,128,29],[129,50,128,30,"data"],[129,54,128,34],[129,55,128,35,"access_token"],[129,67,128,47],[129,68,128,48],[130,8,129,6,"set"],[130,11,129,9],[130,12,129,10],[131,10,130,8,"user"],[131,14,130,12],[131,16,130,14,"response"],[131,24,130,22],[131,25,130,23,"data"],[131,29,130,27],[131,30,130,28,"user"],[131,34,130,32],[132,10,131,8,"isAuthenticated"],[132,25,131,23],[132,27,131,25],[132,31,131,29],[133,10,132,8,"isLoading"],[133,19,132,17],[133,21,132,19],[134,8,133,6],[134,9,133,7],[134,10,133,8],[135,8,134,6],[135,15,134,13],[135,19,134,17],[136,6,135,4],[136,7,135,5],[136,8,135,6],[136,15,135,13,"error"],[136,20,135,23],[136,22,135,25],[137,8,136,6,"set"],[137,11,136,9],[137,12,136,10],[138,10,137,8,"error"],[138,15,137,13],[138,17,137,15,"error"],[138,22,137,20],[138,23,137,21,"response"],[138,31,137,29],[138,33,137,31,"data"],[138,37,137,35],[138,39,137,37,"detail"],[138,45,137,43],[138,49,137,47],[138,57,137,55],[139,10,138,8,"isLoading"],[139,19,138,17],[139,21,138,19],[140,8,139,6],[140,9,139,7],[140,10,139,8],[141,8,140,6],[141,15,140,13],[141,20,140,18],[142,6,141,4],[143,4,142,2],[143,5,142,3],[144,4,144,2,"clearError"],[144,14,144,12],[144,16,144,14,"clearError"],[144,17,144,14],[144,22,144,20,"set"],[144,25,144,23],[144,26,144,24],[145,6,144,26,"error"],[145,11,144,31],[145,13,144,33],[146,4,144,38],[146,5,144,39],[147,2,145,0],[147,3,145,1],[147,4,145,2],[147,5,145,3],[148,0,145,4],[148,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","checkAuth","verifyIdentity","initAdmin","clearError"],"mappings":"AAA;8CC8B;SCM;GDkB;YEE;GFkB;UGE;GHO;aIE;GJqB;kBKE;GLa;aME;GNkB;cOE,0BP;EDC"},"hasCjsExports":false},"type":"js/module"}]}